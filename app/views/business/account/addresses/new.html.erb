
<% content_for :title, "Edita tus datos personales" %>

<div class="account-business-adresses-new">
  <div class="container-edit-profile">

    <div class="products-navigation">
      <ol>
        <li>
          <%= link_to business_account_profile_path do %>
            <span>Mi perfil</span>
            <svg class="icon">
              <use xlink:href="<%= asset_path('icons/business.svg#flecha-separacion-siguiente') %>"></use>
            </svg>
          <% end %>
        </li>

        <li>
          <%= link_to business_account_addresses_path do %>
            <span>Mis direcciones</span>
            <svg class="icon">
              <use xlink:href="<%= asset_path('icons/business.svg#flecha-separacion-siguiente') %>"></use>
            </svg>
          <% end %>
        </li>

        <li>
          <span>Nuevo domicilio</span>
        </li>

      </ol>
    </div>

    <div class="profile-header">
      <h1 class="profile-title">¿Dónde querés recibir tus pedidos?</h1>
      <p class="profile-description">Completá los datos del domicilio para que podamos calcular el envío correctamente.</p>
      <p class="profile-instructions">Verificá que los datos sean precisos para evitar errores en la entrega.</p>
    </div>

    <div class="profile-form">
      <%= form_with model: [:business, :account, @envio_address], local: true do |form| %>
        <div class="form-group">
          <div class="form-label-wrapper">
            <%= form.text_field :street_name, class: 'form-input', placeholder: 'Calle' %>
            <%= form.label :street_name, 'Calle', class: 'form-label' %>
          </div>
          <% if @envio_address.errors[:street_name].any? %>
            <div class="error-message"><%= @envio_address.errors[:street_name].first %></div>
          <% end %>
        </div>

        <div class="form-grid">
          <div class="form-group">
            <div class="form-label-wrapper">
              <%= form.number_field :street_number, class: 'form-input', placeholder: 'Número' %>
              <%= form.label :street_number, 'Número', class: 'form-label' %>
            </div>
            <% if @envio_address.errors[:street_number].any? %>
              <div class="error-message"><%= @envio_address.errors[:street_number].first %></div>
            <% end %>
          </div>

          <div class="form-group">
            <div class="form-label-wrapper">
              <%= form.number_field :postal_code, class: 'form-input', placeholder: 'Código Postal' %>
              <%= form.label :postal_code, 'Código Postal', class: 'form-label' %>
            </div>
            <% if @envio_address.errors[:postal_code].any? %>
              <div class="error-message"><%= @envio_address.errors[:postal_code].first %></div>
            <% end %>
          </div>

          <div class="form-group">
            <div class="form-label-wrapper">
              <%= form.text_field :locality, class: 'form-input', placeholder: 'Provincia' %>
              <%= form.label :locality, 'Provincia', class: 'form-label' %>
            </div>
            <% if @envio_address.errors[:locality].any? %>
              <div class="error-message"><%= @envio_address.errors[:locality].first %></div>
            <% end %>
          </div>

          <div class="form-group">
            <div class="form-label-wrapper">
              <%= form.text_field :city, class: 'form-input', placeholder: 'Ciudad' %>
              <%= form.label :city, 'Ciudad', class: 'form-label' %>
            </div>
            <% if @envio_address.errors[:city].any? %>
              <div class="error-message"><%= @envio_address.errors[:city].first %></div>
            <% end %>
          </div>

          <div class="form-group">
            <div class="form-label-wrapper">
              <%= form.text_field :apartment, class: 'form-input', placeholder: 'Departamento (opcional)' %>
              <%= form.label :apartment, 'Departamento (opcional)', class: 'form-label' %>
            </div>
          </div>

          <div class="form-group">
            <div class="form-label-wrapper">
              <%= form.text_field :floor, class: 'form-input', placeholder: 'Piso (opcional)' %>
              <%= form.label :floor, 'Piso (opcional)', class: 'form-label' %>
            </div>
          </div>
        </div>

        <div class="field">
          <%= form.label :default_shipping, "¿Establecer como dirección principal de envío?" %>
          <%= form.check_box :default_shipping %>
        </div>

        <div class="form-group text-area">
          <div class="form-label-wrapper">
            <%= form.text_area :indications, class: 'form-input', placeholder: 'Indicaciones para la entrega (opcional)' %>
            <%= form.label :indications, 'Indicaciones para la entrega (opcional)', class: 'form-label' %>
          </div>
        </div>

        <div class="space">
          <%= link_to 'Volver', business_account_addresses_path, class: 'btn btn-secondary' %>
          <%= form.submit 'Guardar Dirección', class: 'btn btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>
</div>
